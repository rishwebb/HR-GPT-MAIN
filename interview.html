<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HR-GPT</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
    
    .chat-container::-webkit-scrollbar { width: 6px; }
    .chat-container::-webkit-scrollbar-track { background: transparent; }
    .chat-container::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
    .chat-container::-webkit-scrollbar-thumb:hover { background: #444; }
    
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes typing {
      0%, 60%, 100% { opacity: 0.3; }
      30% { opacity: 1; }
    }
    
    .message-bubble { animation: fadeInUp 0.3s ease-out; }
    
    .typing-dot { animation: typing 1.4s infinite; }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    
    .input-glow:focus {
      box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
    }
    
    .copy-btn:active { transform: scale(0.95); }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-[#0f0f0f] text-white overflow-hidden">
  <div class="h-full flex flex-col"><!-- Header -->
   <header class="flex-shrink-0 border-b border-[#1a1a1a] bg-[#0f0f0f]/95 backdrop-blur-sm">
    <div class="flex items-center justify-center gap-3 px-4 py-3">
     <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-[#2a2a2a] to-[#1a1a1a] flex items-center justify-center border border-[#333] text-white">
      <svg class="w-5 h-5 text-white/90" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
      </svg>
     </div>
     <h1 id="app-title" class="text-lg font-semibold tracking-tight">HR-GPT</h1>
    </div>
   </header><!-- Chat Area -->
   <main id="chat-container" class="chat-container flex-1 overflow-y-auto px-4 py-4 space-y-4"><!-- Welcome Message -->
    <div class="message-bubble flex gap-3 max-w-[85%]">
     <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-[#2a2a2a] to-[#1a1a1a] flex items-center justify-center border border-[#333]">
      <svg class="w-4 h-4 text-white/80" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
      </svg>
     </div>
     <div class="flex-1">
      <div class="bg-[#1a1a1a] rounded-2xl rounded-tl-md px-4 py-3 border border-[#252525]">
       <p class="text-[15px] leading-relaxed text-gray-200">Hello! ðŸ‘‹ I'm your HR Response Assistant. Paste an intern's introduction or interview response, and I'll generate a professional appreciation reply for you.</p>
      </div><span class="text-[11px] text-gray-500 mt-1 ml-1 block">HR-GPT</span>
     </div>
    </div>
   </main>
   <div id="typing-indicator" class="hidden px-4 pb-2">
    <div class="flex gap-3 max-w-[85%]">
     <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-[#2a2a2a] to-[#1a1a1a] flex items-center justify-center border border-[#333]">
      <svg class="w-4 h-4 text-white/80" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
      </svg>
     </div>
     <div class="bg-[#1a1a1a] rounded-2xl rounded-tl-md px-4 py-3 border border-[#252525]">
      <div class="flex items-center gap-1"><span class="typing-dot w-2 h-2 bg-gray-400 rounded-full"></span> <span class="typing-dot w-2 h-2 bg-gray-400 rounded-full"></span> <span class="typing-dot w-2 h-2 bg-gray-400 rounded-full"></span>
      </div>
     </div>
    </div><span class="text-[11px] text-gray-500 mt-1 ml-12 block">HR-GPT is typing...</span>
   </div><!-- Input Area -->
   <footer class="flex-shrink-0 border-t border-[#1a1a1a] bg-[#0f0f0f] p-3 sm:p-4">
    <form id="message-form" class="flex gap-2 max-w-3xl mx-auto">
     <div class="flex-1 relative"><textarea id="message-input" rows="1" class="input-glow w-full bg-[#1a1a1a] border border-[#2a2a2a] rounded-xl px-4 py-3 text-[15px] text-white placeholder-gray-500 resize-none focus:outline-none focus:border-[#3a3a3a] transition-all" placeholder="Paste intern response here..." style="max-height: 120px;"></textarea>
     </div><button type="submit" id="send-btn" class="flex-shrink-0 w-11 h-11 bg-white hover:bg-gray-200 rounded-xl flex items-center justify-center transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed">
      <svg class="w-5 h-5 text-[#0f0f0f]" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
      </svg></button>
    </form>
    <p class="text-[11px] text-gray-600 text-center mt-2">Admin: Rishav â€¢ Â© All Rights Reserved</p>
   </footer>
  </div>
  <div id="toast" class="fixed top-4 left-1/2 -translate-x-1/2 bg-[#1a1a1a] border border-[#333] text-white text-sm px-4 py-2 rounded-lg opacity-0 transition-opacity duration-300 pointer-events-none z-50">
   Copied to clipboard âœ“
  </div>
  <script>

    const hrResponses = [
      "Thank you for sharing your response ðŸ’Ž Your clarity and intent are noted ðŸ§­ Stay consistent and give your best throughout the internship ðŸ We look forward to your active participation ðŸŒ¿ðŸŽ–ï¸",
      "Wonderful introduction! ðŸµï¸ Your enthusiasm shines through ðŸ”† Keep this energy going and make the most of every learning opportunity during your time with us ðŸšðŸ§¿",
      "Impressive response! ðŸ§³ Your professional approach is commendable ðŸ›ï¸ We're excited to see how you'll contribute to the team's success ðŸ§©ðŸš¦",
      "Thank you for such a thoughtful reply! ðŸª„ Your dedication to learning is evident ðŸ“˜ Wishing you a productive internship journey ahead ðŸ—ºï¸ðŸ›¡ï¸",
      "Great to hear from you! ðŸŒ  Your positive attitude will take you far ðŸ”ï¸ Remember, every task is a chance to learn and grow ðŸŒ¾ðŸª´",
      "Excellent introduction! ðŸ§  Your goals align well with our values ðŸ—ï¸ We're confident you'll make meaningful contributions here ðŸ§±âœ¨",
      "Thank you for this detailed response! ðŸ“‚ Your communication skills are impressive ðŸŽ™ï¸ Keep up the great work ðŸ› ï¸ðŸŒŸ",
      "What a fantastic start! ðŸš€ Your motivation is inspiring ðŸ§¨ We're thrilled to have you on board for this internship ðŸ›³ï¸ðŸŒŠ",
      "Appreciated! ðŸ«¶ Your professionalism sets a great example ðŸ† Looking forward to seeing your growth throughout this program ðŸŒ³ðŸ“",
      "Brilliant introduction! ðŸ§ª Your insights show great potential ðŸ”­ Make the most of this opportunity to develop your skills ðŸ§—â€â™‚ï¸ðŸŒ„",
      "Thank you for your response! ðŸŽ Your positive energy is contagious âš¡ We're sure you'll be a great addition to the team ðŸ§¿ðŸ§‘â€ðŸ’¼",
      "Well articulated! ðŸ“ Your analytical thinking is evident ðŸ§® This will serve you well during your internship with us ðŸ—ƒï¸ðŸ”",
      "Great response! ðŸ§‘â€ðŸŽ“ Your academic background combined with your enthusiasm makes you a promising intern ðŸ“– Best of luck ðŸ€ðŸŽ¯",
      "Thank you for sharing! ðŸª™ Your determination to succeed is admirable ðŸ§— We're here to support your professional development ðŸ¢ðŸ“Š",
      "Wonderful! ðŸŒº Your humble approach and eagerness to learn are refreshing ðŸƒ Welcome aboard ðŸš¢ðŸ›Ÿ",
      "Impressive introduction! ðŸ¥‡ Your achievements speak volumes ðŸ“œ We're excited to help you reach new heights ðŸ”ï¸ðŸ”",
      "Thank you! ðŸ§ƒ Your clear communication and focused goals are appreciated ðŸŽ¯ Here's to a successful internship ðŸ¥‚ðŸ“…",
      "Excellent response! ðŸ§¨ Your passion for this field is evident ðŸ”¥ Channel this energy into every project you undertake ðŸ› ï¸ðŸš§",
      "Great to meet you! ðŸ§‘â€ðŸ¤â€ðŸ§‘ Your collaborative spirit will make you a valuable team member ðŸ˜ï¸ Looking forward to working together ðŸ“ŒðŸ¤—",
      "Thank you for this! ðŸ§µ Your self-awareness and growth mindset are commendable ðŸªž You're set for success ðŸ¹ðŸŒŸ",
      "Brilliant! ðŸ–Œï¸ Your creative approach stands out ðŸŽ­ We can't wait to see the fresh perspectives you'll bring ðŸ§ƒðŸŒˆ",
      "Appreciated your response! ðŸ§­ Your ambition is inspiring ðŸ¹ Let's work together to achieve your goals ðŸ§‘â€ðŸ’»ðŸ“Œ",
      "Wonderful introduction! ðŸª Your technical skills combined with soft skills make you well-rounded ðŸ§° Great job ðŸ…ðŸŒ¤ï¸",
      "Thank you! ðŸ§Š Your attention to detail is impressive ðŸ”Ž This quality will serve you well in your role ðŸ§¾ðŸ“ˆ",
      "Excellent! ðŸ§¿ Your structured thinking and clear objectives are noted ðŸ“Š Wishing you all the best ðŸðŸŒ…",
      "Great response! ðŸŒ± Your willingness to step out of your comfort zone is admirable ðŸª‚ Growth awaits ðŸŒ„ðŸ”“",
      "Thank you for sharing this! ðŸª” Your gratitude and positive outlook are refreshing ðŸŒ¼ Welcome to the team ðŸ§‘â€ðŸ’¼ðŸ¢",
      "Impressive! ðŸ§¤ Your professional demeanor sets the right tone ðŸŽ¼ We're confident in your potential ðŸ—ï¸ðŸ”·",
      "Wonderful! ðŸŽŠ Your enthusiasm is infectious ðŸ§¡ Let's make this internship a memorable experience ðŸŽ¬ðŸŒŸ",
      "Thank you! ðŸª Your diverse interests and curiosity will help you thrive here ðŸŒ Best wishes ðŸ§­ðŸƒ",
      "Brilliant introduction! ðŸ“š Your commitment to continuous learning is evident ðŸ§  Keep that spirit alive ðŸ•¯ï¸ðŸŒ ",
      "Great to have you! ðŸ¤— Your interpersonal skills shine through your words ðŸ’¬ You'll fit right in ðŸ§©ðŸ¡",
      "Thank you for this thoughtful response! ðŸ§  Your innovative thinking is exactly what we need ðŸ’¡ Welcome ðŸðŸšª",
      "Excellent! ðŸ¥ˆ Your track record of excellence continues to impress ðŸ“ˆ Looking forward to your contributions ðŸ—‚ï¸ðŸŒŸ",
      "Wonderful response! ðŸŒ· Your humility paired with confidence is the perfect balance âš–ï¸ All the best ðŸ›¤ï¸ðŸŒ„",
      "Thank you! ðŸš„ Your career goals and our company values align perfectly ðŸ§© Exciting times ahead ðŸŽ†ðŸ“†",
      "Great introduction! ðŸ›¡ï¸ Your resilience and adaptability are qualities we value highly ðŸŒŠ Welcome aboard ðŸš¢âš“",
      "Appreciated! ðŸŒŸ Your genuine interest in learning and growing is what makes great interns ðŸŒ¿ Best wishes ðŸ§­ðŸŽ“",
      "Impressive response! ðŸ§‘â€ðŸ« Your academic excellence and practical mindset are a great combination ðŸ“Š Good luck ðŸ€ðŸ“˜",
      "Thank you for sharing! ðŸ§‘â€ðŸ’» Your proactive approach will open many doors ðŸšª Make the most of every opportunity ðŸ—ï¸ðŸ†",
      "Excellent introduction! âš¡ Your energy and drive are exactly what this team needs ðŸš€ Welcome ðŸ¢ðŸŽ¯",
      "Wonderful! ðŸ“Š Your data-driven approach and attention to metrics are impressive ðŸ“ˆ You'll do great ðŸðŸ§®",
      "Thank you! ðŸŽ¯ Your focused and goal-oriented mindset will help you achieve great things here ðŸ§­ðŸŒŸ",
      "Brilliant response! ðŸ¤ Your team spirit and collaborative nature are highly valued ðŸ˜ï¸ Looking forward to it ðŸ—“ï¸âœ¨",
      "Great to meet you! ðŸŒŒ Your unique perspective and fresh ideas are welcome here ðŸ’¡ Best of luck ðŸ€ðŸ›¤ï¸",
      "Thank you for this! ðŸŒ¿ Your growth potential is evident ðŸŒ± We're excited to be part of your journey ðŸ›£ï¸ðŸŒ„",
      "Impressive! ðŸ… Your accomplishments and future aspirations inspire us ðŸ“œ Welcome to the team ðŸ¢ðŸŽŠ",
      "Wonderful introduction! ðŸŒž Your positive attitude and strong work ethic are commendable ðŸ› ï¸ All the best ðŸðŸŒŸ",
      "Thank you! ðŸŽ¨ Your creative problem-solving skills will be an asset ðŸ§  Looking forward to your contributions ðŸ“‚ðŸš€",
      "Excellent response! ðŸ“ˆ Your strategic thinking and clear vision are impressive ðŸ§­ Wishing you success ðŸ†ðŸŒ "
    ];
  let lastUsedIndices = [];

  function getRandomResponse() {
    let available = hrResponses
      .map((_, i) => i)
      .filter(i => !lastUsedIndices.includes(i));

    const idx = available[Math.floor(Math.random() * available.length)];
    lastUsedIndices.push(idx);
    if (lastUsedIndices.length > 10) lastUsedIndices.shift();
    return hrResponses[idx];
  }

  // =========================
  // NEW: STRUCTURED RESPONSE POOL
  // =========================
  const structuredResponses = {
    strong: [
      "Thank you for submitting your detailed interview responses. Your academic background, clear motivation, well-defined fundraising goal, and confident approach toward completing tasks reflect strong alignment with this internship. We appreciate your readiness to maintain regular communication and your willingness to stay actively engaged. We look forward to your consistent participation and meaningful contributions throughout the internship."
    ],
    medium: [
      "Thank you for sharing your interview responses. Your interest in the internship and willingness to take responsibility are noted. With consistent effort, timely communication, and active participation, this internship can be a valuable learning experience for you."
    ],
    generic: [
      "Thank you for submitting your interview responses. We appreciate the time and effort youâ€™ve put into them and look forward to your participation during the internship."
    ]
  };

  // =========================
  // NEW: STRUCTURED ANALYSIS FUNCTION
  // =========================
  function generateStructuredResponse(text) {
    const parts = text.split(/\n?\s*\d+\.\s*/).filter(Boolean);

    if (parts.length < 6) return null;

    let score = 0;

    if (parts[0].length > 30) score++; // intro
    if (/yes|confident|able|100/i.test(parts[1])) score++;
    if (/â‚¹|rs|\d{3,}/i.test(parts[2])) score++;
    if (/learn|help|future|skills|experience/i.test(parts[3])) score++;
    if (/regular|communication|report|coordinate/i.test(parts[4])) score++;
    if (/active|lor|participate/i.test(parts[5])) score++;

    if (score >= 5) {
      return structuredResponses.strong[0];
    }
    if (score >= 3) {
      return structuredResponses.medium[0];
    }
    return structuredResponses.generic[0];
  }

  // =========================
  // EXISTING UI FUNCTIONS (UNCHANGED)
  // =========================
  function addUserMessage(text) {
    const container = document.getElementById('chat-container');
    const div = document.createElement('div');
    div.className = 'message-bubble flex justify-end';
    div.innerHTML = `
      <div class="max-w-[85%]">
        <div class="bg-white text-[#0f0f0f] rounded-2xl rounded-tr-md px-4 py-3">
          <p class="text-[15px] leading-relaxed whitespace-pre-wrap">${escapeHtml(text)}</p>
        </div>
        <span class="text-[11px] text-gray-500 mt-1 mr-1 block text-right">You</span>
      </div>`;
    container.appendChild(div);
    scrollToBottom();
  }

  function addBotResponse(text) {
    const container = document.getElementById('chat-container');
    const id = 'resp-' + Date.now();
    const div = document.createElement('div');
    div.className = 'message-bubble flex gap-3 max-w-[85%]';
    div.innerHTML = `
      <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-[#2a2a2a] to-[#1a1a1a] flex items-center justify-center border border-[#333] text-white">
  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
      d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
  </svg>
</div>
      <div class="flex-1">
        <div class="bg-[#1a1a1a] rounded-2xl rounded-tl-md px-4 py-3 border border-[#252525]">
          <p class="text-[15px] leading-relaxed text-gray-200">${text}</p>
        </div>
        <span class="text-[11px] text-gray-500 ml-1">HR-GPT</span>
        <input type="hidden" id="${id}" value="${escapeHtml(text)}">
      </div>`;
    container.appendChild(div);
    scrollToBottom();
  }

  function escapeHtml(text) {
    const d = document.createElement('div');
    d.textContent = text;
    return d.innerHTML;
  }

  function scrollToBottom() {
    const c = document.getElementById('chat-container');
    c.scrollTop = c.scrollHeight;
  }

  function setTyping(show) {
    document.getElementById('typing-indicator')
      .classList.toggle('hidden', !show);
    if (show) scrollToBottom();
  }

  function autoResize(t) {
    t.style.height = 'auto';
    t.style.height = Math.min(t.scrollHeight, 120) + 'px';
  }

  // =========================
  // MODIFIED SUBMIT HANDLER (SAFE)
  // =========================
  document.getElementById('message-form').addEventListener('submit', async e => {
    e.preventDefault();
    const input = document.getElementById('message-input');
    const text = input.value.trim();
    if (!text) return;

    addUserMessage(text);
    input.value = '';
    autoResize(input);
    setTyping(true);

    await new Promise(r => setTimeout(r, 1500 + Math.random() * 1000));

    setTyping(false);

    const structured = generateStructuredResponse(text);
    addBotResponse(structured || getRandomResponse());
  });

  document.getElementById('message-input').addEventListener('input', e => {
    autoResize(e.target);
  });

  document.getElementById('message-input').addEventListener('keydown', e => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      document.getElementById('message-form').dispatchEvent(new Event('submit'));
    }
  });
</script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ccd9e43265047c3',t:'MTc3MDkxNTM3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
